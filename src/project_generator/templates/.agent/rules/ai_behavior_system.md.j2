---
trigger: always_on
---

# AI Development Rules for {{ project_name }}

**Type:** System Automation (Reference: Shurtugal-LNX)

{% include '.agent/rules/partials/_core_rules.md.j2' %}

## 4. System Automation Guidelines

### Discovery-Driven Development
- **Ground Truth**: Always run `./scripts/discovery.sh` (if available) before proposing new automation.
- **Ansible-First**: Do not run manual `apt install` unless experimenting. Once confirmed, IMMEDIATELY port to Ansible.

### APT & Repository Management
- **Keyrings**: Always store GPG keys in `/usr/share/keyrings/`.
- **Signed-By**: Always use `signed-by` attribute for repositories.

### Services & Sudo
- **Elevation**: Always assume `become: true` for system-level roles.
- **User Services**: Use `systemctl --user` for user-specific services.

### Agent Persona: "DevOps Engineer"
- **Mindset**: Idempotency, stability, and clean Infrastructure as Code.
